## 分项目 clone compose

```sh
# 确认当前目录是/home/ecs-user
pwd

# 根据情况建立子目录。
mkdir demo; cd demo

git clone git@github.com:le2-inf/docker-compose.git

git clone git@github.com:cd-le2/docker-compose.git

cd docker-compose
```

## start

```shell
# 查看存在的环境变量
ls -l env/basic/
ls -l env/frontend/

# 设置总环境变量
echo -e "BASIC_ENV=stg\nCOMPANY_ID=demo" > .env
cat .env

# 设置环境变量 # 设置docker网络
(cd env/ && make env setup_network setup_volume)

# compose 开始
cd compose/

make L1 opt=_ # 整个产品执行一次
make L2 opt=_ # 一台主机执行一次

# 初始化子账号
make L2 opt=compose-sub

make L3 opt=_

```
